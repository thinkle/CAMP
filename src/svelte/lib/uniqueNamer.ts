export const names = [
  "ğŸ Apple",
  "ğŸ Red Apple",
  "ğŸ Pear",
  "ğŸŠ Orange",
  "ğŸ‹ Lemon",
  "ğŸŒ Banana",
  "ğŸ‰ Watermelon",
  "ğŸ‡ Grapes",
  "ğŸ“ Strawberry",
  "ğŸ’ Cherry",
  "ğŸ¥ Kiwi",
  "ğŸ Pineapple",
  "ğŸ¥¥ Coconut",
  "ğŸŒ° Chestnut",
  "ğŸ¥‘ Avocado",
  "ğŸ‘ Peach",
  "ğŸˆ Melon",
  "ğŸ… Tomato",
  "ğŸŒ¶ï¸ Chili Pepper",
  "ğŸ¥• Carrot",
  "ğŸŒ½ Corn",
  "ğŸ¥’ Cucumber",
  "ğŸ¥¬ Lettuce",
  "ğŸ¥¦ Broccoli",
  "ğŸ§„ Garlic",
  "ğŸ§… Onion",
  "ğŸ¥” Potato",
  "ğŸ  Sweet Potato",
  "ğŸ¥œ Peanuts",
  "ğŸ Bread",
  "ğŸ¥– Baguette",
  "ğŸ¥¯ Bagel",
  "ğŸ§€ Cheese",
  "ğŸ¥š Egg",
  "ğŸ³ Fried Egg",
  "ğŸ¥ Pancakes",
  "ğŸ§‡ Waffle",
  "ğŸ¥“ Bacon",
  "ğŸ” Burger",
  "ğŸŒ­ Hot Dog",
  "ğŸ• Pizza",
  "ğŸ¥ª Sandwich",
  "ğŸŒ® Taco",
  "ğŸŒ¯ Burrito",
  "ğŸ¥— Salad",
  "ğŸ Pasta",
  "ğŸ£ Sushi",
  "ğŸ¤ Shrimp",
  "ğŸª Cookie",
  "ğŸ© Donut",
  "ğŸ‚ Cake",
  "ğŸ° Shortcake",
  "ğŸ§ Cupcake",
  "ğŸ« Chocolate",
  "ğŸ¯ Honey",
  "ğŸ¬ Candy",
  "ğŸ­ Lollipop",
  "ğŸ® Flan",
  "ğŸ¦ Ice Cream",
  "ğŸ¨ Sundae",
  "ğŸ¹ Cocktail",
  "ğŸ¸ Martini",
  "ğŸº Beer",
  "ğŸ» Cheers",
  "ğŸ¥‚ Champagne",
  "ğŸ¼ Baby Bottle",
  "â˜• Coffee",
  "ğŸ§ƒ Juice",
  "ğŸµ Tea",
  "ğŸ¥¤ Soda",
  "ğŸŒ Earth",
  "ğŸŒ Globe",
  "ğŸŒ Asia Globe",
  "ğŸŒ Sun",
  "ğŸŒœ Moon",
  "â­ Star",
  "ğŸ”¥ Fire",
  "ğŸ’§ Water Drop",
  "ğŸŒŠ Wave",
  "â„ï¸ Snowflake",
  "ğŸŒªï¸ Tornado",
  "â˜ï¸ Cloud",
  "ğŸˆ Balloon",
  "ğŸ‰ Confetti",
  "ğŸŠ Party Popper",
  "ğŸ‚ Birthday Cake",
  "ğŸ Gift",
  "ğŸ•¹ï¸ Joystick",
  "ğŸ® Game Controller",
  "ğŸµ Music Note",
  "ğŸ¸ Guitar",
  "ğŸ» Violin",
  "ğŸº Trumpet",
  "ğŸ¥ Drum",
  "ğŸ· Saxophone",
  "ğŸš— Car",
  "ğŸš• Taxi",
  "ğŸš™ SUV",
  "ğŸšŒ Bus",
  "ğŸš Trolley",
  "ğŸšœ Tractor",
  "ğŸš€ Rocket",
  "âœˆï¸ Airplane",
  "ğŸ›¸ UFO",
  "ğŸš Helicopter",
  "â›µ Sailboat",
  "âš“ Anchor",
  "ğŸš‚ Train",
  "ğŸš² Bicycle",
  "ğŸï¸ Motorcycle",
  "ğŸï¸ Racecar",
  "ğŸ­ Theater Masks",
  "ğŸ¨ Palette",
  "ğŸ¬ Clapperboard",
  "ğŸ¤ Microphone",
  "ğŸ§ Headphones",
  "ğŸ“· Camera",
  "ğŸ“½ï¸ Film Projector",
  "ğŸ’¡ Light Bulb",
  "ğŸ”¦ Flashlight",
  "ğŸ•°ï¸ Clock",
  "â³ Hourglass",
  "ğŸ’° Money Bag",
  "ğŸ’ Gem",
  "ğŸ”® Crystal Ball",
  "ğŸ¯ Bullseye",
  "âš½ Soccer Ball",
  "ğŸ€ Basketball",
  "âš¾ Baseball",
  "ğŸˆ Football",
  "ğŸ¾ Tennis Ball",
  "ğŸ Volleyball",
  "ğŸ‰ Rugby Ball",
  "ğŸ± 8-Ball",
  "ğŸƒ Joker",
  "â™ ï¸ Spade",
  "â™¥ï¸ Heart",
  "â™¦ï¸ Diamond",
  "â™£ï¸ Club",
  "ğŸ´ Cards",
  "ğŸ† Trophy",
  "ğŸ¥‡ Gold Medal",
  "ğŸ¥ˆ Silver Medal",
  "ğŸ¥‰ Bronze Medal",
  "ğŸ”” Bell",
  "ğŸ”• Muted Bell",
  "ğŸ”‘ Key",
  "ğŸ› ï¸ Tools",
  "âš™ï¸ Gear",
  "â›ï¸ Pickaxe",
  "ğŸ›¡ï¸ Shield",
  "ğŸ—¡ï¸ Dagger",
  "âš”ï¸ Crossed Swords",
  "ğŸ¹ Bow and Arrow",
  "ğŸ’£ Bomb",
  "ğŸ§¨ Firecracker",
  "ğŸµ Music",
  "ğŸ”— Link",
];

export function getFirstEmoji(name: string): string {
  const segmenter = new Intl.Segmenter("en", { granularity: "grapheme" });
  return [...segmenter.segment(name)][0].segment;
}

function getNameFromCount(n: number): string {
  if (n < names.length) {
    return names[n]; // Use predefined name if available
  }

  // Otherwise, generate a new unique name using an alphanumeric system
  let base = names.length;
  let generatedName = "";

  let count = n;
  while (count > 0) {
    let index = count % base;
    generatedName = getFirstEmoji(names[index]) + generatedName;
    count = Math.floor(count / base);
  }

  return generatedName;
}

export function Namer() {
  let nameCount = 0;
  let nameMap = new Map<any, string>();

  function getName(uid: any): string {
    if (nameMap.has(uid)) {
      return nameMap.get(uid)!;
    }

    let name = getNameFromCount(nameCount);
    nameMap.set(uid, name);
    nameCount++;

    return name;
  }

  return { getName };
}
